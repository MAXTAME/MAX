--[[
BY : MAXTIME
Channel Files : https://t.me/MAXFiles
]]
local function keko_MAX(data)
local msg = data.message_
redis = (loadfile "./libs/redis.lua")()
database = Redis.connect('127.0.0.1', 6379)
sudos = dofile('sudo.lua')
https = require("ssl.https")
bot_id_keko = {string.match(token, "^(%d+)(:)(.*)")}
bot_id = tonumber(bot_id_keko[1])
JSON = (loadfile  "./libs/dkjson.lua")()
local function send(chat_id, reply_to_message_id, disable_notification, text, disable_web_page_preview, parse_mode)
local TextParseMode = {ID = "TextParseModeMarkdown"}
  tdcli_function ({
  ID = "SendMessage",
  chat_id_ = chat_id,
  reply_to_message_id_ = reply_to_message_id,
  disable_notification_ = disable_notification,
  from_background_ = 1,
  reply_markup_ = nil,
  input_message_content_ = {
  ID = "InputMessageText",
  text_ = text,
  disable_web_page_preview_ = disable_web_page_preview,
  clear_draft_ = 0,
  entities_ = {},
  parse_mode_ = TextParseMode,
  },
  }, dl_cb, nil)
  end
  function is_owner(msg)
user_id = msg.sender_user_id_
chat_id = msg.chat_id_
local var = false
local admin = database:sismember('MAX:'..bot_id..'admins:', user_id)  
local owner = database:sismember('MAX:'..bot_id..'owners:'..chat_id, user_id)
local creator = database:sismember('MAX:'..bot_id..'creator:'..chat_id, user_id)  
if owner then var = true
end if admin then
var = true end if creator then var = true end
for k,v in pairs(sudo_users) do
if user_id == v then
var = true
end end
local keko_add_sudo = redis:get('MAX:'..bot_id..'sudoo'..user_id..'')
if keko_add_sudo then var = true end
return var
end
local msg = data.message_
text = msg.content_.text_
if not database:get('MAX:'..bot_id..'rep:mute'..msg.chat_id_) then
if text == 'Ø³Ù…Ø§ÙŠÙ„Ø§Øª' and database:get('MAX:'..bot_id..'lock_geam'..msg.chat_id_) then
database:del('MAX:'..bot_id..'l:ids'..msg.chat_id_)
katu = {'ğŸ','ğŸ','ğŸ','ğŸŠ','ğŸ‹','ğŸŒ','ğŸ‰','ğŸ‡','ğŸ“','ğŸˆ','ğŸ’','ğŸ‘','ğŸ','ğŸ¥¥','ğŸ¥','ğŸ…','ğŸ†','ğŸ¥‘','ğŸ¥¦','ğŸ¥’','ğŸŒ¶','ğŸŒ½','ğŸ¥•','ğŸ¥”','ğŸ ','ğŸ¥','ğŸ','ğŸ¥–','ğŸ¥¨','ğŸ§€','ğŸ¥š','ğŸ³','ğŸ¥','ğŸ¥“','ğŸ¥©','ğŸ—','ğŸ–','ğŸŒ­','ğŸ”','ğŸŸ','ğŸ•','ğŸ¥ª','ğŸ¥™','ğŸ¼','â˜•ï¸','ğŸµ','ğŸ¥¤','ğŸ¶','ğŸº','ğŸ»','ğŸ€','âš½ï¸','ğŸˆ','âš¾ï¸','ğŸ¾','ğŸ','ğŸ‰','ğŸ±','ğŸ“','ğŸ¸','ğŸ¥…','ğŸ°','ğŸ®','ğŸ³','ğŸ¯','ğŸ²','ğŸ»','ğŸ¸','ğŸº','ğŸ¥','ğŸ¹','ğŸ¼','ğŸ§','ğŸ¤','ğŸ¬','ğŸ¨','ğŸ­','ğŸª','ğŸŸ','ğŸ«','ğŸ—','ğŸµ','ğŸ–','ğŸ†','ğŸ¥Œ','ğŸ›·','ğŸš•','ğŸš—','ğŸš™','ğŸšŒ','ğŸš','ğŸ','ğŸš“','ğŸš‘','ğŸšš','ğŸš›','ğŸšœ','ğŸ‡®ğŸ‡¶','âš”ï¸','ğŸ›¡','ğŸ”®','ğŸŒ¡','ğŸ’£','ğŸ“Œ','ğŸ“','ğŸ““','ğŸ“—','ğŸ“‚','ğŸ“…','ğŸ“ª','ğŸ“«','ğŸ“¬','ğŸ“­','â°','ğŸ“º','ğŸš','â˜ï¸','ğŸ“¡'}
name = katu[math.random(#katu)]
database:set('MAX:'..bot_id..'klmos'..msg.chat_id_,name)
name = string.gsub(name,'ğŸ','ğŸ')
name = string.gsub(name,'ğŸ¥–','ğŸ¥–')
name = string.gsub(name,'ğŸ¥¨','ğŸ¥¨')
name = string.gsub(name,'ğŸ§€','ğŸ§€')
name = string.gsub(name,'ğŸ¥š','ğŸ¥š')
name = string.gsub(name,'ğŸ³','ğŸ³')
name = string.gsub(name,'ğŸ¥','ğŸ¥')
name = string.gsub(name,'ğŸ¥“','ğŸ¥“')
name = string.gsub(name,'ğŸ¥©','ğŸ¥©')
name = string.gsub(name,'ğŸ—','ğŸ—')
name = string.gsub(name,'ğŸ–','ğŸ–')
name = string.gsub(name,'ğŸŒ­','ğŸŒ­')
name = string.gsub(name,'ğŸ”','ğŸ”')
name = string.gsub(name,'ğŸŸ','ğŸŸ')
name = string.gsub(name,'ğŸ•','ğŸ•')
name = string.gsub(name,'ğŸ¥ª','ğŸ¥ª')
name = string.gsub(name,'ğŸ¥™','ğŸ¥™')
name = string.gsub(name,'ğŸ¼','ğŸ¼')
name = string.gsub(name,'â˜•ï¸','â˜•ï¸')
name = string.gsub(name,'ğŸµ','ğŸµ')
name = string.gsub(name,'ğŸ¥¤','ğŸ¥¤')
name = string.gsub(name,'ğŸ¶','ğŸ¶')
name = string.gsub(name,'ğŸº','ğŸº')
name = string.gsub(name,'ğŸ','ğŸ')
name = string.gsub(name,'ğŸ','ğŸ')
name = string.gsub(name,'ğŸ','ğŸ')
name = string.gsub(name,'ğŸŠ','ğŸŠ')
name = string.gsub(name,'ğŸ‹','ğŸ‹')
name = string.gsub(name,'ğŸŒ','ğŸŒ')
name = string.gsub(name,'ğŸ‰','ğŸ‰')
name = string.gsub(name,'ğŸ‡','ğŸ‡')
name = string.gsub(name,'ğŸ“','ğŸ“')
name = string.gsub(name,'ğŸˆ','ğŸˆ')
name = string.gsub(name,'ğŸ’','ğŸ’')
name = string.gsub(name,'ğŸ‘','ğŸ‘')
name = string.gsub(name,'ğŸ','ğŸ')
name = string.gsub(name,'ğŸ¥¥','ğŸ¥¥')
name = string.gsub(name,'ğŸ¥','ğŸ¥')
name = string.gsub(name,'ğŸ…','ğŸ…')
name = string.gsub(name,'ğŸ†','ğŸ†')
name = string.gsub(name,'ğŸ¥‘','ğŸ¥‘')
name = string.gsub(name,'ğŸ¥¦','ğŸ¥¦')
name = string.gsub(name,'ğŸ¥’','ğŸ¥’')
name = string.gsub(name,'ğŸŒ¶','ğŸŒ¶')
name = string.gsub(name,'ğŸŒ½','ğŸŒ½')
name = string.gsub(name,'ğŸ¥•','ğŸ¥•')
name = string.gsub(name,'ğŸ¥”','ğŸ¥”')
name = string.gsub(name,'ğŸ ','ğŸ ')
name = string.gsub(name,'ğŸ¥','ğŸ¥')
name = string.gsub(name,'ğŸ»','ğŸ»')
name = string.gsub(name,'ğŸ€','ğŸ€')
name = string.gsub(name,'âš½ï¸','âš½ï¸')
name = string.gsub(name,'ğŸˆ','ğŸˆ')
name = string.gsub(name,'âš¾ï¸','âš¾ï¸')
name = string.gsub(name,'ğŸ¾','ğŸ¾')
name = string.gsub(name,'ğŸ','ğŸ')
name = string.gsub(name,'ğŸ‰','ğŸ‰')
name = string.gsub(name,'ğŸ±','ğŸ±')
name = string.gsub(name,'ğŸ“','ğŸ“')
name = string.gsub(name,'ğŸ¸','ğŸ¸')
name = string.gsub(name,'ğŸ¥…','ğŸ¥…')
name = string.gsub(name,'ğŸ°','ğŸ°')
name = string.gsub(name,'ğŸ®','ğŸ®')
name = string.gsub(name,'ğŸ³','ğŸ³')
name = string.gsub(name,'ğŸ¯','ğŸ¯')
name = string.gsub(name,'ğŸ²','ğŸ²')
name = string.gsub(name,'ğŸ»','ğŸ»')
name = string.gsub(name,'ğŸ¸','ğŸ¸')
name = string.gsub(name,'ğŸº','ğŸº')
name = string.gsub(name,'ğŸ¥','ğŸ¥')
name = string.gsub(name,'ğŸ¹','ğŸ¹')
name = string.gsub(name,'ğŸ¼','ğŸ¼')
name = string.gsub(name,'ğŸ§','ğŸ§')
name = string.gsub(name,'ğŸ¤','ğŸ¤')
name = string.gsub(name,'ğŸ¬','ğŸ¬')
name = string.gsub(name,'ğŸ¨','ğŸ¨')
name = string.gsub(name,'ğŸ­','ğŸ­')
name = string.gsub(name,'ğŸª','ğŸª')
name = string.gsub(name,'ğŸŸ','ğŸŸ')
name = string.gsub(name,'ğŸ«','ğŸ«')
name = string.gsub(name,'ğŸ—','ğŸ—')
name = string.gsub(name,'ğŸµ','ğŸµ')
name = string.gsub(name,'ğŸ–','ğŸ–')
name = string.gsub(name,'ğŸ†','ğŸ†')
name = string.gsub(name,'ğŸ¥Œ','ğŸ¥Œ')
name = string.gsub(name,'ğŸ›·','ğŸ›·')
name = string.gsub(name,'ğŸš•','ğŸš•')
name = string.gsub(name,'ğŸš—','ğŸš—')
name = string.gsub(name,'ğŸš™','ğŸš™')
name = string.gsub(name,'ğŸšŒ','ğŸšŒ')
name = string.gsub(name,'ğŸš','ğŸš')
name = string.gsub(name,'ğŸ','ğŸ')
name = string.gsub(name,'ğŸš“','ğŸš“')
name = string.gsub(name,'ğŸš‘','ğŸš‘')
name = string.gsub(name,'ğŸšš','ğŸšš')
name = string.gsub(name,'ğŸš›','ğŸš›')
name = string.gsub(name,'ğŸšœ','ğŸšœ')
name = string.gsub(name,'ğŸ‡®ğŸ‡¶','ğŸ‡®ğŸ‡¶')
name = string.gsub(name,'âš”ï¸','âš”ï¸')
name = string.gsub(name,'ğŸ›¡','ğŸ›¡')
name = string.gsub(name,'ğŸ”®','ğŸ”®')
if text =='Ù†Ù‚ÙˆØ¯ÙŠ' then 
if tonumber((database:get('MAX:'..bot_id..'add:num'..msg.chat_id_..msg.sender_user_id_) or 0)) == 0 then
taha = '*ğŸ’ Â¦ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ù†Ù‚ÙˆØ¯ \nğŸ“¬Â¦ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Ù‚ÙˆØ¯ Ø§Ø±Ø³Ù„ Ø§Ù„Ø§Ø³Ø±Ø¹ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨*\n'
send(msg.chat_id_, msg.id_, 1,taha, 1, 'md')
else
taha = '*ğŸ“¬Â¦ Ø¹Ø¯Ø¯ Ù†Ù‚ÙˆØ¯Ùƒ Ù…Ù† Ø§Ù„Ù„Ø¹Ø¨Ù‡ Ù‡ÙŠ ('..(database:get('MAX:'..bot_id..'add:num'..msg.chat_id_..msg.sender_user_id_))..')*'
send(msg.chat_id_, msg.id_, 1,taha, 1, 'md')
end
end

if text == 'Ø¨ÙŠØ¹ Ù†Ù‚ÙˆØ¯ÙŠ' then
if tonumber((database:get('MAX:'..bot_id..'add:num'..msg.chat_id_..msg.sender_user_id_) or 0)) == 0 then
taha = '*ğŸ’ Â¦ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ù†Ù‚ÙˆØ¯ \nğŸ“¬Â¦ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†Ù‚ÙˆØ¯ Ø§Ø±Ø³Ù„ Ø§Ù„Ø§Ø³Ø±Ø¹ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨*\n'
send(msg.chat_id_, msg.id_, 1,taha, 1, 'md')
else
taha = (database:get('MAX:'..bot_id..'add:num'..msg.chat_id_..msg.sender_user_id_) * 50)
database:incrby('MAX:'..bot_id..'nummsg'..msg.chat_id_..msg.sender_user_id_,taha)  
database:del('MAX:'..bot_id..'add:num'..msg.chat_id_..msg.sender_user_id_)
taha = '*ğŸ“¬Â¦ ØªÙ… Ø¨ÙŠØ¹ Ù†Ù‚ÙˆØ¯Ùƒ ÙƒÙ„ Ù†Ù‚Ø·Ù‡ ØªØ³Ø§ÙˆÙŠ âª50â« Ø±Ø³Ø§Ù„Ù‡Û*'
send(msg.chat_id_, msg.id_, 1,taha, 1, 'md')
end
end

if text == 'ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ù‡' and is_owner(msg) then   
taha = '*ğŸ“›Â¦*ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ù‡  âœ”ï¸' 
send(msg.chat_id_, msg.id_, 1,taha, 1, 'md')
database:set('MAX:'..bot_id..'lock_geam'..msg.chat_id_,true)  
end
if text == 'ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ù‡' and is_owner(msg) then  
taha = '*ğŸ“›Â¦*ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ù‡  âŒ' 
send(msg.chat_id_, msg.id_, 1,taha, 1, 'md')
database:del('MAX:'..bot_id..'lock_geam'..msg.chat_id_) 
end

--[[
BY : MAXTEAM
Channel Files : https://t.me/MAXFiles
]]
